# Подключение платежной системы Stripe

### Описание проекта 

Проект для тестового задания. Представляет собой реализацию подключения к Stripe API с помощью сессий и интента для совершений оплаты выбранного товара.

#### Реализация с помощью checkout.Session
• При загрузке страницы запрашивается секретный ключ с бэкэнда, который передается в объект Stripe на фронтенд часть. При покупке товара передается POST-запрос на сервер для получения сессии, а затем с полученным id сессии покупателя перенаправляет на окно совершения платежа. При отмене происходит возврат на страницу товара. В случае успешного платежа на страницу успешной покупки и создается заказ.  

![image](https://user-images.githubusercontent.com/113205906/222468970-033b2471-62a6-4940-865f-9a74e9303527.png)

#### Реализация с помощью PaymentIntent  
• Также реализован вариант оплаты с помощью PaymentIntent.

![image](https://user-images.githubusercontent.com/113205906/224675949-412b73c4-65fa-4878-8e60-343a748d52da.png)

#### Другая информация  
• Backend реализован на Django.   
• Созданы модели для товаров, заказа, размера скидки и налога. Все модели отображены в админ-панели.  
• Секретные ключи указаны в переменных окружения.  
• Проект задеплоен с помощью Docker-Compose и Nginx. Сгенерирован SSL-сертификат с помощью Let's Encrypt.  

### Стэк разработки:
• Python 3.11  
• Django 4.1.6   
• Stripe 5.1.1  
• Docker  
• Nginx latest  

### Запуск

Django:
```python
python manage.py runserver
```
Docker-Compose:
```docker
docker compose -f docker-compose.yaml up -d
```
Docker:
```
docker build -t вашеимяобраза .
docker run -d --name вашеимяконтейнера -p 80:80 вашеимяобраза
```
